---
lang: zh-CN
title: 利用WireGuard组建虚拟局域网
description: 使用WireGuard VPN技术组建异地局域网，实现内网设备的访问。
---

# 利用WireGuard组建虚拟局域网

> 此处所提到的VPN服务器为合法的用于加密网络隧道流量，保护内网设备不受外部攻击且便于通过公网访问的服务软件，此处不讨论VPN服务器在非法网络服务的应用!

> VPN即虚拟专用网络，其功能是：在公用网络上建立专用网络，进行加密通讯。在企业网络中有广泛应用。VPN网关通过对数据包的加密和数据包目标地址的转换实现远程访问。

## 1.简述

在使用Homelab的过程中，我们通常会出现远程访问Homelab的需求，而直接通过端口转发将服务发放至公网既无法保证服务安全，也可能为服务商造成更大的安全隐患。为了解决这个问题，可以用企业中常用的VPN来保护服务的安全。

> 待完成: 介绍VPN的工作流程

这里我们给出了两种方案来进行VPN的搭建，用户可以选择其中一种来搭建，也可以同时使用两种来保证服务的稳定性。

- 通过中转服务器来使用Wireguard
  - **优点**： 使用此方案可以非常稳定的运行，且无需用户拥有运营商的公网ip。
  - **缺点**：需要使用云服务商的带有公网IP的服务器，价格较贵；实际速率和时延与云服务商关联大。
- 通过直连方式使用Wireguard
  - **优点**：使用此方案可以最大限度的发挥公网的上传带宽，无需购买第三方服务器
  - **缺点**：需要拥有运营商提供的公网ip。

## 2.搭建准备

- Openwrt软路由(主路由旁路由均可，需要内网反向访问需要网关修改为该路由)
- 公网IP（通过直连方式需要）
- 云服务器（通过中转方式需要）

## 3.通过中转服务器

## 4.通过直连方式

## 5.客户端使用
